{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\LocalRentalKing\\\\front\\\\pages\\\\search\\\\[searchInput].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport { LOAD_HASHTAG_POSTS_REQUEST, LOAD_SEARCH_POSTS_REQUEST, LOAD_USER_POSTS_REQUEST } from '../../reducers/post';\nimport { LOAD_MY_INFO_REQUEST } from '../../reducers/user';\nimport PostCard from '../../components/PostCard';\nimport wrapper from '../../store/configureStore';\nimport AppLayout from '../../components/AppLayout';\n\nfunction SearchResult() {\n  _s();\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var searchInput = router.query.searchInput; // [tag].js 파일 명의 [] 부분이 들어간다\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      mainPosts = _useSelector.mainPosts,\n      hasMorePost = _useSelector.hasMorePost,\n      loadPostLoading = _useSelector.loadPostLoading,\n      local = _useSelector.local;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.user;\n  }),\n      userInfo = _useSelector2.userInfo,\n      me = _useSelector2.me; // useEffect(()=>{\n  //   dispatch({ // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\n  //     type:LOAD_SEARCH_POSTS_REQUEST,\n  //     data:searchInput,\n  //     local:local,\n  //   });\n  // },[searchInput]);\n  // useEffect(() => {\n  //   const onScroll = () => {\n  //     if (window.pageYOffset + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300) {\n  //       if (hasMorePost && !loadPostLoading) {\n  //         dispatch({\n  //           type: LOAD_SEARCH_POSTS_REQUEST, // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\n  //           lastId: mainPosts[mainPosts.length - 1] && mainPosts[mainPosts.length - 1].id,\n  //           data:searchInput,\n  //           local:local,\n  //         });\n  //       }\n  //     }\n  //   };\n  //   window.addEventListener('scroll', onScroll);\n  //   return () => {\n  //     window.removeEventListener('scroll', onScroll);\n  //   };\n  // }, [mainPosts.length, hasMorePost, searchInput, loadPostLoading]);\n\n\n  return __jsx(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"\\uC9C4\\uC785\\uC131\\uACF5\"));\n}\n\n_s(SearchResult, \"69R5DjOjwyzzzwIrTYvapmhZR0E=\", false, function () {\n  return [useDispatch, useRouter, useSelector, useSelector];\n});\n\n_c = SearchResult;\nexport default SearchResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResult\");","map":{"version":3,"sources":["C:/study/LocalRentalKing/front/pages/search/[searchInput].js"],"names":["React","useEffect","useDispatch","useSelector","END","useRouter","axios","LOAD_HASHTAG_POSTS_REQUEST","LOAD_SEARCH_POSTS_REQUEST","LOAD_USER_POSTS_REQUEST","LOAD_MY_INFO_REQUEST","PostCard","wrapper","AppLayout","SearchResult","dispatch","router","searchInput","query","state","post","mainPosts","hasMorePost","loadPostLoading","local","user","userInfo","me"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,GAAT,QAAoB,YAApB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,0BAAR,EAAoCC,yBAApC,EAA+DC,uBAA/D,QAA6F,qBAA7F;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;;AAEA,SAASC,YAAT,GAAwB;AAAA;;AACtB,MAAMC,QAAQ,GAAGb,WAAW,EAA5B;AACA,MAAMc,MAAM,GAAGX,SAAS,EAAxB;AACA,MAAQY,WAAR,GAAwBD,MAAM,CAACE,KAA/B,CAAQD,WAAR,CAHsB,CAGgB;;AACtC,qBAA4Dd,WAAW,CAAC,UAACgB,KAAD;AAAA,WAAWA,KAAK,CAACC,IAAjB;AAAA,GAAD,CAAvE;AAAA,MAAQC,SAAR,gBAAQA,SAAR;AAAA,MAAmBC,WAAnB,gBAAmBA,WAAnB;AAAA,MAAgCC,eAAhC,gBAAgCA,eAAhC;AAAA,MAAkDC,KAAlD,gBAAkDA,KAAlD;;AACA,sBAAyBrB,WAAW,CAAC,UAACgB,KAAD;AAAA,WAAWA,KAAK,CAACM,IAAjB;AAAA,GAAD,CAApC;AAAA,MAAQC,QAAR,iBAAQA,QAAR;AAAA,MAAkBC,EAAlB,iBAAkBA,EAAlB,CALsB,CAOtB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CADF;AAKD;;GAvCQb,Y;UACUZ,W,EACFG,S,EAE6CF,W,EACnCA,W;;;KALlBW,Y;AAyCT,eAAeA,YAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { END } from 'redux-saga';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport axios from 'axios';\r\nimport {LOAD_HASHTAG_POSTS_REQUEST, LOAD_SEARCH_POSTS_REQUEST, LOAD_USER_POSTS_REQUEST} from '../../reducers/post';\r\nimport { LOAD_MY_INFO_REQUEST } from '../../reducers/user';\r\nimport PostCard from '../../components/PostCard';\r\nimport wrapper from '../../store/configureStore';\r\nimport AppLayout from '../../components/AppLayout';\r\n\r\nfunction SearchResult() {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const { searchInput } = router.query; // [tag].js 파일 명의 [] 부분이 들어간다\r\n  const { mainPosts, hasMorePost, loadPostLoading , local } = useSelector((state) => state.post);\r\n  const { userInfo, me } = useSelector((state) => state.user);\r\n\r\n  // useEffect(()=>{\r\n  //   dispatch({ // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\r\n  //     type:LOAD_SEARCH_POSTS_REQUEST,\r\n  //     data:searchInput,\r\n  //     local:local,\r\n  //   });\r\n  // },[searchInput]);\r\n\r\n  // useEffect(() => {\r\n  //   const onScroll = () => {\r\n  //     if (window.pageYOffset + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300) {\r\n  //       if (hasMorePost && !loadPostLoading) {\r\n  //         dispatch({\r\n  //           type: LOAD_SEARCH_POSTS_REQUEST, // 검색어를 제목에서 포함하며, 지역이 일치하는 게시물들을 10개씩요청\r\n  //           lastId: mainPosts[mainPosts.length - 1] && mainPosts[mainPosts.length - 1].id,\r\n  //           data:searchInput,\r\n  //           local:local,\r\n  //         });\r\n  //       }\r\n  //     }\r\n  //   };\r\n  //   window.addEventListener('scroll', onScroll);\r\n  //   return () => {\r\n  //     window.removeEventListener('scroll', onScroll);\r\n  //   };\r\n  // }, [mainPosts.length, hasMorePost, searchInput, loadPostLoading]);\r\n\r\n  return (\r\n    <AppLayout>\r\n      <a>진입성공</a>\r\n    </AppLayout>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n"]},"metadata":{},"sourceType":"module"}