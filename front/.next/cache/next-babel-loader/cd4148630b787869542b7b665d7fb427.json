{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\study\\\\LocalRentalKing\\\\front\\\\components\\\\Tags.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Tag, Button } from 'antd';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LOAD_POST_REQUEST, UPDATE_TAG } from \"../reducers/post\";\n\nfunction Tags(_ref) {\n  _s();\n\n  var _this = this;\n\n  var tagsData = _ref.tagsData,\n      boardNum = _ref.boardNum;\n  var CheckableTag = Tag.CheckableTag;\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      selectedTags = _useState[0],\n      setSelectedTags = _useState[1];\n\n  var handleChange = useCallback(function (tag, checked) {\n    var nextSelectedTags = checked ? [tag].concat(_toConsumableArray(selectedTags)) : selectedTags.filter(function (t) {\n      return t !== tag;\n    });\n    setSelectedTags(_toConsumableArray(nextSelectedTags)); //여기서 걍 다이렉트로 nextSelectedTags[0]를 category변수로 디스패치로 전송하면 되는거 아니야?\n    //아니면 여기서는 post 리듀서의 카테고리 변수에 변화를 주고 렌더링중인 메인 페이지에서 useEffect로 카테고리 변수를 감시시켜서\n    //해당하는 카테고리의 게시물을 10개 부르는 알고리즘으로 이어버리던가\n\n    dispatch({\n      type: LOAD_POST_REQUEST,\n      data: nextSelectedTags[0],\n      // 현재 선택한 태그명\n      categoryNum: boardNum // 현재 렌더링중인 게시판 고유번호\n\n    });\n    dispatch({\n      type: UPDATE_TAG,\n      data: nextSelectedTags[0] // 전역적으로 현재 선택한 태그를 공유한다.\n\n    });\n    console.log('You are interested in: ', nextSelectedTags);\n    console.log('You are interested in: ', nextSelectedTags[0]);\n  }, []);\n  useEffect(function () {\n    setSelectedTags(['전체']);\n  }, []);\n  return __jsx(React.Fragment, null, tagsData.map(function (tag) {\n    return __jsx(CheckableTag, {\n      key: tag,\n      checked: selectedTags.indexOf(tag) > -1,\n      onChange: function onChange(checked) {\n        return handleChange(tag, checked);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, tag);\n  }));\n}\n\n_s(Tags, \"uCJlvmODkV4Jau8+sAQXR0gn1us=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Tags;\nexport default Tags;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tags\");","map":{"version":3,"sources":["C:/study/LocalRentalKing/front/components/Tags.js"],"names":["React","useCallback","useEffect","useState","Tag","Button","useDispatch","useSelector","LOAD_POST_REQUEST","UPDATE_TAG","Tags","tagsData","boardNum","CheckableTag","dispatch","selectedTags","setSelectedTags","handleChange","tag","checked","nextSelectedTags","filter","t","type","data","categoryNum","console","log","map","indexOf"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AAEA,SAASC,GAAT,EAAeC,MAAf,QAA6B,MAA7B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,iBAAR,EAA2BC,UAA3B,QAA4C,kBAA5C;;AAEA,SAASC,IAAT,OAAqC;AAAA;;AAAA;;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAXC,QAAW,QAAXA,QAAW;AAEnC,MAAQC,YAAR,GAAyBT,GAAzB,CAAQS,YAAR;AAEA,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AAEA,kBAAsCH,QAAQ,CAAC,EAAD,CAA9C;AAAA,MAAOY,YAAP;AAAA,MAAoBC,eAApB;;AAEA,MAAMC,YAAY,GAAGhB,WAAW,CAAC,UAACiB,GAAD,EAAMC,OAAN,EAAkB;AACjD,QAAMC,gBAAgB,GAAGD,OAAO,IAAKD,GAAL,4BAAYH,YAAZ,KAA6BA,YAAY,CAACM,MAAb,CAAoB,UAAAC,CAAC;AAAA,aAAIA,CAAC,KAAKJ,GAAV;AAAA,KAArB,CAA7D;AACAF,IAAAA,eAAe,oBAAKI,gBAAL,EAAf,CAFiD,CAGjD;AACA;AACA;;AACAN,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAACf,iBADE;AAEPgB,MAAAA,IAAI,EAACJ,gBAAgB,CAAC,CAAD,CAFd;AAEmB;AAC1BK,MAAAA,WAAW,EAACb,QAHL,CAGe;;AAHf,KAAD,CAAR;AAKAE,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEd,UADC;AAEPe,MAAAA,IAAI,EAACJ,gBAAgB,CAAC,CAAD,CAFd,CAEmB;;AAFnB,KAAD,CAAR;AAIAM,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCP,gBAAvC;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCP,gBAAgB,CAAC,CAAD,CAAvD;AACC,GAjB6B,EAiB5B,EAjB4B,CAAhC;AAmBAlB,EAAAA,SAAS,CAAC,YAAI;AACZc,IAAAA,eAAe,CAAC,CAAC,IAAD,CAAD,CAAf;AACD,GAFQ,EAEP,EAFO,CAAT;AAIA,SACE,4BACGL,QAAQ,CAACiB,GAAT,CAAa,UAAAV,GAAG;AAAA,WACf,MAAC,YAAD;AACE,MAAA,GAAG,EAAEA,GADP;AAEE,MAAA,OAAO,EAAEH,YAAY,CAACc,OAAb,CAAqBX,GAArB,IAA4B,CAAC,CAFxC;AAGE,MAAA,QAAQ,EAAE,kBAAAC,OAAO;AAAA,eAAIF,YAAY,CAACC,GAAD,EAAMC,OAAN,CAAhB;AAAA,OAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGD,GALH,CADe;AAAA,GAAhB,CADH,CADF;AAaD;;GA5CQR,I;UAIUJ,W;;;KAJVI,I;AA8CT,eAAeA,IAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\n\r\nimport { Tag , Button } from 'antd';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {LOAD_POST_REQUEST, UPDATE_TAG} from \"../reducers/post\";\r\n\r\nfunction Tags({tagsData , boardNum}) {\r\n\r\n  const { CheckableTag } = Tag;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [selectedTags,setSelectedTags] =useState([]);\r\n\r\n  const handleChange = useCallback((tag, checked) => {\r\n    const nextSelectedTags = checked ? [ tag,...selectedTags,] : selectedTags.filter(t => t !== tag);\r\n    setSelectedTags([...nextSelectedTags]);\r\n    //여기서 걍 다이렉트로 nextSelectedTags[0]를 category변수로 디스패치로 전송하면 되는거 아니야?\r\n    //아니면 여기서는 post 리듀서의 카테고리 변수에 변화를 주고 렌더링중인 메인 페이지에서 useEffect로 카테고리 변수를 감시시켜서\r\n    //해당하는 카테고리의 게시물을 10개 부르는 알고리즘으로 이어버리던가\r\n    dispatch({\r\n      type:LOAD_POST_REQUEST,\r\n      data:nextSelectedTags[0], // 현재 선택한 태그명\r\n      categoryNum:boardNum, // 현재 렌더링중인 게시판 고유번호\r\n    })\r\n    dispatch({\r\n      type: UPDATE_TAG,\r\n      data:nextSelectedTags[0], // 전역적으로 현재 선택한 태그를 공유한다.\r\n    });\r\n    console.log('You are interested in: ', nextSelectedTags);\r\n    console.log('You are interested in: ', nextSelectedTags[0]);\r\n    },[]);\r\n\r\n  useEffect(()=>{\r\n    setSelectedTags(['전체']);\r\n  },[]);\r\n\r\n  return (\r\n    <>\r\n      {tagsData.map(tag => (\r\n        <CheckableTag\r\n          key={tag}\r\n          checked={selectedTags.indexOf(tag) > -1}\r\n          onChange={checked => handleChange(tag, checked)}\r\n        >\r\n          {tag}\r\n        </CheckableTag>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Tags;\r\n"]},"metadata":{},"sourceType":"module"}